<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CanterPro</title>

<style>
body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    background: #f4f6f8;
    color: #222;
}

header {
    background: #1976d2;
    color: white;
    padding: 14px;
    text-align: center;
    font-size: 20px;
    font-weight: 600;
    position: relative;
}

.settings {
    position: absolute;
    right: 16px;
    top: 14px;
    font-size: 20px;
}

.container {
    padding: 16px;
}

.card {
    background: white;
    border-radius: 16px;
    padding: 16px;
    margin-bottom: 16px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.06);
}

button {
    width: 100%;
    padding: 16px;
    border: none;
    border-radius: 30px;
    font-size: 18px;
    font-weight: 600;
    cursor: pointer;
}

.primary {
    background: #1976d2;
    color: white;
}

.danger {
    background: #d32f2f;
    color: white;
}

.tabs {
    display: flex;
    gap: 8px;
    margin-bottom: 16px;
}

.tab {
    flex: 1;
    padding: 12px;
    border-radius: 12px;
    text-align: center;
    font-weight: 600;
    cursor: pointer;
    background: #e0e0e0;
}

.tab.active {
    background: #1976d2;
    color: white;
}

.hidden {
    display: none;
}

.center {
    text-align: center;
    margin-top: 80px;
}
</style>
</head>

<body>

<header>
    CanterPro
    <span class="settings hidden" id="settingsBtn">‚öôÔ∏è</span>
</header>

<div class="container">

    <!-- –°–¢–ê–†–¢–û–í–´–ô –≠–ö–†–ê–ù -->
    <div id="startScreen" class="center">
        <h2>–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ üëã</h2>
        <p>–ì–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å?</p>
        <br>
        <button class="primary" onclick="startWorkDay()">–ù–∞—á–∞—Ç—å —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å</button>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –≠–ö–†–ê–ù -->
    <div id="mainScreen" class="hidden">

        <div class="tabs">
            <div class="tab active" onclick="openTab('day')">–†–∞–±–æ—á–∏–π –¥–µ–Ω—å</div>
            <div class="tab" onclick="openTab('orders')">–ó–∞–∫–∞–∑—ã</div>
            <div class="tab" onclick="openTab('expenses')">–†–∞—Å—Ö–æ–¥—ã –∑–∞ –¥–µ–Ω—å</div>
        </div>

        <!-- –í–ö–õ–ê–î–ö–ê: –†–ê–ë–û–ß–ò–ô –î–ï–ù–¨ -->
        <div id="tab-day">
            <div class="card">
                <button class="danger" onclick="endWorkDay()">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å</button>
            </div>

            <div class="card">
                <h3>–û—Ç—á–µ—Ç –∑–∞ —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å</h3>
                <div id="dayReport"></div>
            </div>
        </div>

        <!-- –ó–ê–ì–õ–£–®–ö–ò -->
        <div id="tab-orders" class="hidden">
            <div class="card">–ó–∞–∫–∞–∑—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å</div>
        </div>

        <div id="tab-expenses" class="hidden">
            <div class="card">–†–∞—Å—Ö–æ–¥—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å</div>
        </div>

    </div>
</div>

<script>
let workDay = JSON.parse(localStorage.getItem("workDay"));

function startWorkDay() {
    workDay = {
        date: new Date().toLocaleDateString(),
        startTime: new Date().toLocaleTimeString(),
        endTime: null
    };
    localStorage.setItem("workDay", JSON.stringify(workDay));
    render();
}

function endWorkDay() {
    if (!workDay) return;
    workDay.endTime = new Date().toLocaleTimeString();
    localStorage.setItem("workDay", JSON.stringify(workDay));
    alert("–†–∞–±–æ—á–∏–π –¥–µ–Ω—å –∑–∞–≤–µ—Ä—à–µ–Ω");
    render();
}

function render() {
    if (!workDay) {
        document.getElementById("startScreen").classList.remove("hidden");
        document.getElementById("mainScreen").classList.add("hidden");
        document.getElementById("settingsBtn").classList.add("hidden");
    } else {
        document.getElementById("startScreen").classList.add("hidden");
        document.getElementById("mainScreen").classList.remove("hidden");
        document.getElementById("settingsBtn").classList.remove("hidden");

        let report = `
        <p><strong>–î–∞—Ç–∞:</strong> ${workDay.date}</p>
        <p><strong>–ù–∞—á–∞–ª–æ:</strong> ${workDay.startTime}</p>
        <p><strong>–û–∫–æ–Ω—á–∞–Ω–∏–µ:</strong> ${workDay.endTime ?? "‚Äî"}</p>
        `;
        document.getElementById("dayReport").innerHTML = report;
    }
}

function openTab(name) {
    document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
    document.querySelectorAll("[id^='tab-']").forEach(t => t.classList.add("hidden"));

    event.target.classList.add("active");
    document.getElementById("tab-" + name).classList.remove("hidden");
}

render();
</script>

</body>
</html>
